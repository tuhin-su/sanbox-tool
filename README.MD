Below is a **clear, user-friendly guide** you can give to **anyone**.
No internals, no bwrap knowledge needed.

---

# ğŸ§° SANBOX â€” User Guide

**SANBOX** is a lightweight sandbox tool for Linux (Arch-based) that works like
**Python `venv`, but for the whole operating system**.

It gives you:

* Fake root access
* No host system changes
* Read-only system binaries
* Clean OPSEC for labs (HTB, TryHackMe, etc.)

---

## ğŸ”§ Requirements

* Arch Linux (or Arch-based)
* `bubblewrap` installed

```bash
sudo pacman -S bubblewrap
```

---

## ğŸš€ Quick Start (Recommended Workflow)

### 1ï¸âƒ£ Create a new sandbox

```bash
sanbox new htb
```

This creates a folder:

```
htb/
â”œâ”€â”€ config
â”œâ”€â”€ root/
â”œâ”€â”€ home/
â””â”€â”€ loot/
```

---

### 2ï¸âƒ£ Enter the sandbox

```bash
cd htb
sanbox
```

Thatâ€™s it.
You are now **inside the sandbox**.

Prompt will look like:

```text
[htb] / #
```

---

### 3ï¸âƒ£ Exit the sandbox

```bash
exit
```

The sandbox is destroyed (except your files).

---

## ğŸ§  How SANBOX Works (Simple Explanation)

* Each sandbox is **just a folder**
* Entering the folder and running `sanbox` activates it
* Your **real system is never modified**
* System tools are mounted **read-only**
* Logs are disabled
* Temp files are isolated

Think of it like:

```text
python venv â†’ sanbox
```

---

## ğŸ“ Directory Structure (Inside Sandbox Folder)

| Path     | Purpose                            |
| -------- | ---------------------------------- |
| `root/`  | Fake root filesystem               |
| `home/`  | Your sandbox home directory        |
| `loot/`  | Writable folder for extracted data |
| `config` | Sandbox configuration              |

---

## ğŸ—‚ Temporary Files

Each sandbox gets its own temp folder:

```
/tmp/sanbox-<sandbox-name>-tmp
```

This folder is:

* Used as `/tmp` inside the sandbox
* Automatically created
* Safe to delete after exit

---

## ğŸ” Default Security Model (Safe by Default)

| Feature             | Status    |
| ------------------- | --------- |
| Fake root           | âœ…         |
| Real network access | âœ…         |
| Open ports          | âœ…         |
| System binaries     | Read-only |
| Host logs           | âŒ         |
| Host `/etc`, `/var` | âŒ         |

This is **ideal for labs and exploit testing**.

---

## âš™ï¸ Configuration (Optional)

Edit the `config` file inside the sandbox folder.

### Example `config`

```bash
SYSTEM=ro          # ro | isolated
WORDLISTS=yes
RW_PATHS=/loot
```

### Options explained

#### `SYSTEM`

* `ro` â†’ Read-only system (recommended)
* `isolated` â†’ No system binaries at all

#### `WORDLISTS`

* `yes` â†’ Mount system wordlists read-only
* `no` â†’ No wordlists

#### `RW_PATHS`

Comma-separated writable paths:

```bash
RW_PATHS=/loot,/opt/tools
```

Everything else remains read-only.

---

## ğŸ“¦ Using Tools Inside SANBOX

All normal tools work:

```bash
nmap
ffuf
sqlmap
gcc
python
```

Wordlists:

```bash
/usr/share/wordlists
```

Temporary work:

```bash
/tmp
```

Loot:

```bash
/loot
```

---

## ğŸ§¹ Cleaning Up

Delete a sandbox:

```bash
rm -rf htb
```

Remove temp files (optional):

```bash
rm -rf /tmp/sanbox-htb-tmp
```

---

## âš ï¸ Limitations (Important)

SANBOX **cannot**:

* Load kernel modules
* Change host firewall
* Modify host kernel
* Persist system changes

This is intentional for safety.

---

## ğŸ§  Best Practices

* One sandbox per target
* Store findings in `/loot`
* Delete sandbox after finishing a lab
* Never mount system paths as writable
* Keep `SYSTEM=ro` unless you know why

---

## âœ… When to Use SANBOX

âœ” HTB / TryHackMe
âœ” Exploit testing
âœ” Malware analysis (basic)
âœ” Untrusted scripts
âœ” OPSEC-clean environments

---

## ğŸ†˜ Troubleshooting

### `sanbox: no sandbox here`

You are not inside a sandbox folder.
Run:

```bash
cd <sandbox-name>
sanbox
```

### Command not found

Ensure:

```bash
~/.local/bin is in PATH
```

---